(function(t){function e(e){for(var a,c,s=e[0],l=e[1],h=e[2],d=0,u=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&u.push(o[c][0]),o[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);r&&r(e);while(u.length)u.shift()();return i.push.apply(i,h||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},o={app:0},i=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var h=0;h<s.length;h++)e(s[h]);var r=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"476a":function(t,e,n){n("c975"),function(t){var e,n,a,o,i,c,s,l='<svg><symbol id="icon-baocun" viewBox="0 0 1024 1024"><path d="M831.4 252.2L711.5 132.4c-10.3-10.3-24.2-16.1-38.8-16.1h-450c-23.3 0-42.2 18.9-42.2 42.2v709.4c0 23.3 18.9 42.2 42.2 42.2h582.6c23.3 0 42.2-18.9 42.2-42.2V291c-0.1-14.5-5.8-28.5-16.1-38.8zM619.6 159v159.8c0 4-3.3 7.3-7.3 7.3H387.2c-4 0-7.3-3.3-7.3-7.3V159h239.7z m67.7 708.4H340.8v-292c0-3.9 3.2-7.1 7.1-7.1h332.4c3.9 0 7.1 3.2 7.1 7.1v292z m117.4 0H730v-292c0-27.5-22.3-49.8-49.8-49.8H347.8c-27.5 0-49.8 22.3-49.8 49.8v292h-74.7V159.1h113.9v159.8c0 27.6 22.4 50.1 50.1 50.1h225.1c27.6 0 50.1-22.4 50.1-50.1V159h10.4c3.2 0 6.3 1.3 8.6 3.6l119.9 119.9c2.3 2.3 3.6 5.3 3.6 8.6l-0.3 576.3z"  ></path><path d="M536 196.3h42.7v87.2H536zM368.7 641.2h220.7v42.7H368.7zM368.7 744h170.9v42.7H368.7z"  ></path></symbol><symbol id="icon-zhongzuo" viewBox="0 0 1024 1024"><path d="M86.6 673.1c-2.6 0-5.2-0.4-7.8-1.4-12.1-4.3-18.4-17.6-14.1-29.7 63.8-178.7 234.1-298.7 423.9-298.7 172.3 0 326.9 96 403.5 250.5 5.7 11.5 1 25.4-10.5 31.1-11.5 5.7-25.4 1-31.1-10.5-68.6-138.6-207.3-224.7-361.8-224.7-170.2 0-323 107.7-380.2 267.9-3.4 9.6-12.4 15.5-21.9 15.5z" fill="#7D7D7D" ></path><path d="M896.1 464.1L746.1 597c-0.3 0.3-0.2 0.7 0.2 0.8l190 63.4c0.4 0.1 0.7-0.2 0.6-0.6l-40.1-196.3c0-0.3-0.4-0.5-0.7-0.2z" fill="#CBCBCB" ></path><path d="M932.8 683.1c-2.8 0-5.6-0.4-8.4-1.4l-180.8-60.3c-9-3-15.7-10.6-17.6-19.9-1.9-9.3 1.3-18.9 8.4-25.2L877 449.9c7.1-6.3 17-8.3 26-5.3 9 3 15.7 10.6 17.6 19.9l38.1 186.7c1.9 9.3-1.3 18.9-8.4 25.2-4.8 4.4-11.1 6.7-17.5 6.7zM791 588.3l115.4 38.5L882 507.6l-91 80.7z m116.8-103.6c0 0.1 0 0 0 0z" fill="#7D7D7D" ></path></symbol><symbol id="icon-chexiao" viewBox="0 0 1024 1024"><path d="M933.5 670.8c-9.5 0-18.3-5.9-21.7-15.3-56.7-158.9-208.2-265.6-377-265.6-153.2 0-290.7 85.4-358.8 222.8-5.6 11.4-19.4 16.1-30.9 10.4-11.4-5.6-16.1-19.5-10.4-30.9C210.6 439 363.9 343.8 534.8 343.8c188.2 0 357.1 119 420.4 296.2 4.3 12-2 25.2-14 29.4-2.6 0.9-5.2 1.4-7.7 1.4z" fill="#7D7D7D" ></path><path d="M130.8 463.5l148.7 131.7c0.3 0.3 0.2 0.7-0.2 0.8L90.8 659c-0.4 0.1-0.7-0.2-0.6-0.6L130 463.8c0-0.4 0.5-0.5 0.8-0.3z" fill="#CBCBCB" ></path><path d="M94.4 680.7c-6.3 0-12.6-2.3-17.5-6.6-7-6.2-10.2-15.8-8.3-25L106.4 464c1.9-9.2 8.6-16.7 17.4-19.7 8.9-3 18.8-1 25.8 5.3L291 574.9c7 6.2 10.2 15.8 8.3 25-1.9 9.2-8.6 16.7-17.5 19.7l-179.3 59.8c-2.5 0.8-5.3 1.3-8.1 1.3z m50.3-174.1l-24.1 118.1L235 586.6l-90.3-80zM119.1 484z" fill="#7D7D7D" ></path></symbol><symbol id="icon-lajixiang_huaban1" viewBox="0 0 1024 1024"><path d="M853.333333 254.293333h-170.666666v-50.631111a62.577778 62.577778 0 0 0-62.577778-62.577778H402.204444A62.577778 62.577778 0 0 0 341.333333 203.662222v50.631111H170.666667v56.888889h56.888889v512a62.577778 62.577778 0 0 0 62.577777 62.577778h443.733334a62.577778 62.577778 0 0 0 62.577777-62.577778v-512h56.888889z m-455.111111-50.631111a5.688889 5.688889 0 0 1 5.688889-5.688889h219.591111a5.688889 5.688889 0 0 1 5.688889 5.688889v50.631111H398.222222z m341.333334 616.675556a5.12 5.12 0 0 1-5.688889 5.688889H290.133333a5.12 5.12 0 0 1-5.688889-5.688889V311.182222h455.111112z"  ></path><path d="M398.222222 431.786667h56.888889v274.773333H398.222222zM568.888889 431.786667h56.888889v274.773333h-56.888889z"  ></path></symbol><symbol id="icon-yuanquan_huaban1" viewBox="0 0 1024 1024"><path d="M512 832a320 320 0 1 1 320-320 320 320 0 0 1-320 320z m0-554.666667a234.666667 234.666667 0 1 0 234.666667 234.666667A235.093333 235.093333 0 0 0 512 277.333333z"  ></path></symbol><symbol id="icon-zhixian_huaban1" viewBox="0 0 1024 1024"><path d="M197.333333 766.293333l568.746667-568.661333 60.330667 60.330667-568.746667 568.746666z"  ></path></symbol><symbol id="icon-huabi_huaban1" viewBox="0 0 1024 1024"><path d="M483.84 585.386667a99.84 99.84 0 0 0 66.56 26.453333 16.213333 16.213333 0 0 0 12.8-4.693333L840.96 341.333333a103.68 103.68 0 0 0-5.12-152.32 103.253333 103.253333 0 0 0-148.053333 13.653334l-228.693334 313.173333a17.493333 17.493333 0 0 0-2.986666 13.653333 103.253333 103.253333 0 0 0 27.733333 55.893334zM162.133333 735.146667a47.786667 47.786667 0 0 0 51.2-17.92c18.773333-27.306667 24.32-85.333333 64.853334-121.173334a142.506667 142.506667 0 0 1 111.786666-37.12 11.52 11.52 0 0 1 9.813334 8.96 116.053333 116.053333 0 0 0 39.253333 72.106667 243.2 243.2 0 0 0 81.066667 32.853333 10.666667 10.666667 0 0 1 8.96 10.666667c2.56 37.546667 0 179.2-186.88 173.226667C128 853.333333 143.36 728.32 162.133333 735.146667z"  ></path></symbol><symbol id="icon-youqitong_huaban1" viewBox="0 0 1024 1024"><path d="M869.973333 504.32l-347.733333-347.733333L469.333333 213.333333 414.293333 160.426667a28.16 28.16 0 0 0-40.106666 40.106666l55.466666 55.466667L170.666667 538.026667a53.333333 53.333333 0 0 0 0 74.666666l243.2 243.626667a55.466667 55.466667 0 0 0 38.4 15.786667 54.613333 54.613333 0 0 0 36.266666-14.506667l322.56-298.666667v227.84h59.733334v-282.026666z m-242.346666-130.56l-128-128 24.32-26.453333 282.453333 282.453333-573.866667 32 228.266667-246.186667 128 128a28.16 28.16 0 1 0 40.106667-40.106666z"  ></path></symbol><symbol id="icon-xiangpi_huaban1" viewBox="0 0 1024 1024"><path d="M849.066667 466.773333a60.16 60.16 0 0 0 0-85.333333l-193.28-192.426667a59.733333 59.733333 0 0 0-42.666667-17.493333 61.44 61.44 0 0 0-42.666667 17.493333l-395.52 396.8a60.16 60.16 0 0 0 0 85.333334l144.64 143.786666a128 128 0 0 0 83.2 38.4H853.333333v-42.666666h-347.306666zM205.226667 640a17.493333 17.493333 0 0 1-5.12-11.946667 17.493333 17.493333 0 0 1 5.12-12.373333L384 436.053333l216.746667 217.173334L469.333333 784.64a85.333333 85.333333 0 0 1-120.746666 0z"  ></path></symbol><symbol id="icon-juxinggongju_huaban1" viewBox="0 0 1024 1024"><path d="M746.666667 341.333333v341.333334h-469.333334V341.333333h469.333334m68.266666-85.333333H209.066667a17.066667 17.066667 0 0 0-17.066667 17.066667v477.866666a17.066667 17.066667 0 0 0 17.066667 17.066667h605.866666a17.066667 17.066667 0 0 0 17.066667-17.066667V273.066667a17.066667 17.066667 0 0 0-17.066667-17.066667z"  ></path></symbol><symbol id="icon-wenzi_huaban1" viewBox="0 0 1024 1024"><path d="M213.333333 209.92v128h85.333334v-42.666667h170.666666v433.493334H384.853333v85.333333h256v-85.333333H554.666667V295.253333h170.666666v42.666667h85.333334v-128H213.333333z"  ></path></symbol><symbol id="icon-suoxiao_huaban1" viewBox="0 0 1024 1024"><path d="M793.6 866.133333a64.853333 64.853333 0 0 1-45.226667-18.773333L597.333333 693.76a286.293333 286.293333 0 1 1 94.293334-85.333333l149.333333 149.76a64 64 0 0 1-47.36 107.946666z m-341.333333-588.8a167.68 167.68 0 1 0 167.253333 167.68 167.68 167.68 0 0 0-166.4-167.68z"  ></path><path d="M453.12 256A189.013333 189.013333 0 1 0 640 445.013333 189.013333 189.013333 0 0 0 453.12 256z" fill="#FFFFFF" ></path><path d="M853.333333 741.546667l-136.533333-137.386667a308.48 308.48 0 1 0-125.44 116.053333l142.08 142.08a85.333333 85.333333 0 0 0 120.746667 0 85.333333 85.333333 0 0 0-0.853334-120.746666z m-30.293333 90.453333a42.666667 42.666667 0 0 1-60.16 0L597.333333 666.88a266.24 266.24 0 1 1 62.72-57.6l162.56 162.56a42.666667 42.666667 0 0 1 1.28 60.16z" fill="#FFFFFF" ></path><path d="M346.453333 415.146667h213.333334v59.733333h-213.333334z"  ></path></symbol><symbol id="icon-fangda_huaban1" viewBox="0 0 1024 1024"><path d="M793.6 866.133333a64.853333 64.853333 0 0 1-45.226667-18.773333L597.333333 693.76a286.293333 286.293333 0 1 1 94.293334-85.333333l149.333333 149.76a64 64 0 0 1-47.36 107.946666z m-341.333333-588.8a167.68 167.68 0 1 0 167.253333 167.68 167.68 167.68 0 0 0-166.4-167.68z"  ></path><path d="M453.12 256A189.013333 189.013333 0 1 0 640 445.013333 189.013333 189.013333 0 0 0 453.12 256z" fill="#FFFFFF" ></path><path d="M853.333333 741.546667l-136.533333-137.386667a308.48 308.48 0 1 0-125.44 116.053333l142.08 142.08a85.333333 85.333333 0 0 0 120.746667 0 85.333333 85.333333 0 0 0-0.853334-120.746666z m-30.293333 90.453333a42.666667 42.666667 0 0 1-60.16 0L597.333333 666.88a266.24 266.24 0 1 1 62.72-57.6l162.56 162.56a42.666667 42.666667 0 0 1 1.28 60.16z" fill="#FFFFFF" ></path><path d="M559.786667 415.146667h-76.8v-76.8h-59.733334v76.8h-76.8v59.733333h76.8v76.8h59.733334v-76.8h76.8v-59.733333z"  ></path></symbol></svg>',h=(e=document.getElementsByTagName("script"))[e.length-1].getAttribute("data-injectcss");if(h&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}function r(){c||(c=!0,o())}n=function(){var t,e,n,a,o,i=document.createElement("div");i.innerHTML=l,l=null,(t=i.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",e=t,(n=document.body).firstChild?(a=e,(o=n.firstChild).parentNode.insertBefore(a,o)):n.appendChild(e))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(n,0):(a=function(){document.removeEventListener("DOMContentLoaded",a,!1),n()},document.addEventListener("DOMContentLoaded",a,!1)):document.attachEvent&&(o=n,i=t.document,c=!1,(s=function(){try{i.documentElement.doScroll("left")}catch(t){return void setTimeout(s,50)}r()})(),i.onreadystatechange=function(){"complete"==i.readyState&&(i.onreadystatechange=null,r())})}(window)},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"title"},[t._v("RobotArmHostüé®")]),n("el-container",{staticClass:"main"},[n("el-aside",{attrs:{id:"side1",width:"200px"}},[n("el-input",{attrs:{placeholder:"mqtt server"},model:{value:t.mqtthost,callback:function(e){t.mqtthost=e},expression:"mqtthost"}}),n("el-input",{attrs:{placeholder:"user"},model:{value:t.mqttuser,callback:function(e){t.mqttuser=e},expression:"mqttuser"}}),n("el-input",{attrs:{placeholder:"password","show-password":""},model:{value:t.mqttpw,callback:function(e){t.mqttpw=e},expression:"mqttpw"}}),this.connected?n("el-button",{staticClass:"loginBtn",attrs:{type:"danger",plain:""},on:{click:t.closeConnection}},[t._v(" Êñ≠ÂºÄ ")]):t._e(),this.connected?t._e():n("el-button",{staticClass:"loginBtn",attrs:{type:"success",plain:""},on:{click:t.createConnection}},[t._v(" ÈìæÊé• ")])],1),t.connected?n("el-aside",{attrs:{id:"side2",width:"150px"}},[n("div",[n("el-button",{staticClass:"Btn",attrs:{type:"success",plain:""},on:{click:t.robotOn}},[t._v("ÂêØÂä®")]),n("div",{staticStyle:{height:"10px"}}),n("el-button",{staticClass:"Btn",attrs:{type:"danger",plain:""},on:{click:t.robotOff}},[t._v(" ÂÖ≥Èó≠ ")]),n("div",{staticStyle:{height:"10px"}}),n("el-button",{staticClass:"Btn",attrs:{type:"warning",plain:""},on:{click:t.clearCanvas}},[t._v(" Ê∏ÖÈô§ ")]),n("div",{staticStyle:{height:"10px"}}),n("el-button",{staticClass:"Btn",attrs:{type:"warning",plain:""},on:{click:t.robotCube}},[t._v(" Ê†°ÂáÜ ")])],1)]):t._e(),t.connected?n("el-container",[n("el-header",[n("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("ÁîªÊùø")]),n("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Â§áÈÄâÈ°π")])],1),t.connected?n("el-main",[n("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.radio,expression:"radio == '1'"}],attrs:{id:"canvas_c"}},[n("canvas",{style:"width:"+t.canvas.width+"px;height:"+t.canvas.height+"px;",attrs:{id:"canvas"},on:{mousedown:function(e){return t.canvasDown(e)},mouseup:function(e){return t.canvasUp(e)},mousemove:function(e){return t.canvasMove(e)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.radio,expression:"radio == '1'"}]},[t._v(" ÂØºÂÖ•ÂõæÁâá "),n("input",{attrs:{type:"file",id:"file",accept:"image/*"},on:{change:t.fileChange}}),n("canvas",{attrs:{id:"hidecanvas",width:"200",height:"200"}})])]):t._e()],1):t._e()],1)],1)},i=[],c=(n("99af"),n("d3b7"),n("cfc3"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("15fd")),s=n("e7fc"),l=n.n(s);n("c19f"),n("ac1f"),n("466d"),n("1276");function h(t,e){var n=new ArrayBuffer(t.byteLength);return new t.constructor(n).set(t),new e(n)}function r(t,e){var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){e(t.target.result)}}function d(t,e){r(t,(function(t){var n=new Image;n.src=t,n.onload=function(){e(n)}}))}var u=n("7c8d"),v=n.n(u),p={name:"app",components:{},mounted:function(){var t=localStorage.getItem("userinfo");if(t){var e=JSON.parse(t);this.mqttport=e.port,this.mqtthost=e.url,this.mqttuser=e.username,this.mqttpw=e.password}},data:function(){return{radio:"1",connection:{host:"192.168.31.132",port:8084,clean:!0,connectTimeout:4e3,reconnectPeriod:4e3,clientId:"mqttjs_3be2c321",username:"admin",password:"public"},mqtthost:"",mqttport:"",mqttuser:"",mqttpw:"",connected:!1,context:null,canvas:{moving:!1,moveStep:0,boxNumber:0,x:0,y:0,width:400,height:400},path:[],pointSet:{set:[[200,100,100],[200,50,100]],step:0}}},methods:{loadCanvas:function(){if(!this.context){var t=document.querySelector("#canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.context=t.getContext("2d")}},genPathForPic:function(t){this.path=[],this.loadCanvas(),this.clearCanvas();var e=document.getElementById("hidecanvas"),n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.drawImage(t,0,0);var a=n.getImageData(0,0,t.width,t.height),o=a.data;console.log(o.length/4),this.context.beginPath(),console.log(t.width,t.height,t);for(var i=-1,c=-1,s=!0,l=0;l<t.height;l++)for(var h=0;h<t.width;h++){var r=4*(l*t.width+h),d=(o[r]+o[r+1]+o[r+2])/3;d=5*d/255;var u=1.5*h+50,v=1.5*l+50;l%5>d?(s?(this.addToPath(u,20,v),this.context.moveTo(u,v)):this.context.lineTo(u,v),this.addToPath(u,10,v),s=!1):(!s&&i>0&&this.addToPath(i,20,c),s=!0),i=u,c=v}this.context.stroke()},fileChange:function(t){var e=t.target.files[0],n=this;new v.a(e,{maxWidth:200,maxHeight:200,success:function(t){console.log(t);var e=new FileReader;e.onload=function(){d(t,(function(t){n.genPathForPic(t)}))},e.readAsDataURL(t)}})},addToPath:function(t,e,n){t/=4,n/=4,n+=100,t-=50,t=-t,this.path.push([n,e,t])},canvasDown:function(t){if(console.log(t),!this.context){var e=document.querySelector("#canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.context=e.getContext("2d")}this.canvas.moving=!0,this.canvas.moveStep=0,this.canvas.boxNumber++;var n=t.target,a=t.clientX-n.offsetLeft,o=t.clientY-n.offsetTop;this.canvas.x=a,this.canvas.y=o,this.context.beginPath(),this.context.moveTo(a,o),this.addToPath(a,20,o),this.addToPath(a,10,o)},canvasMove:function(t){if(this.canvas.moving){var e=t.target,n=t.clientX-e.offsetLeft,a=t.clientY-e.offsetTop,o=this.canvas.x-n,i=this.canvas.y-a;Math.sqrt(o*o+i*i)>5&&(this.context.fillStyle="#2883dd",this.context.lineTo(n,a),this.context.stroke(),this.context.fillStyle="#000",this.canvas.x=n,this.canvas.y=a,this.addToPath(n,10,a),console.log(n,a))}},canvasUp:function(t){var e=t.target,n=t.clientX-e.offsetLeft,a=t.clientY-e.offsetTop;this.addToPath(n,20,a),console.log(t),this.canvas.moving=!1},clearCanvas:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.path=[]},robotOn:function(){var t=new Uint8Array(2);t[0]=2,t[1]=2,this.client.publish("/topic/qos0",t,0,(function(t){t&&console.log("Publish error",t)}))},robotOff:function(){var t=new Uint8Array(2);t[0]=2,t[1]=3,this.client.publish("/topic/qos0",t,0,(function(t){t&&console.log("Publish error",t)}))},robotCube:function(){this.addToPath(50,20,50),this.addToPath(50,10,50),this.addToPath(50,10,350),this.addToPath(350,10,350),this.addToPath(350,10,50),this.addToPath(350,20,50)},closeConnection:function(){this.client.end();var t=this;this.client.on("end",(function(){t.connected=!1}))},createConnection:function(){var t=this;if(this.client&&this.client.connected)this.connected=!0;else if(!this.connected){var e=this.connection,n=e.host,a=e.port,o=Object(c["a"])(e,["host","port"]);console.log(n,a);var i="wss://".concat(this.mqtthost,"/mqtt");o.username=this.mqttuser,o.password=this.mqttpw;try{this.client=l.a.connect(i,o)}catch(r){console.log("mqtt.connect error",r)}var s=this;this.client.on("connect",(function(){console.log("Connection succeeded!"),localStorage.setItem("userinfo",JSON.stringify({username:o.username,password:o.password,url:s.mqtthost,port:s.mqttport})),s.connected=!0,s.client.subscribe("/topic/slave",0,(function(t){t&&console.log("Subscribe to topics error",t)}))})),this.client.on("error",(function(t){console.log("Connection failed",t)})),this.client.on("message",(function(e,n){if(console.log("Received message ".concat(n," from topic ").concat(e)),t.path.length>=1&&(console.log(t.path.length),"/topic/slave"==e&&"sos"==n)){var a=new Uint8Array(3);a[0]=2,a[1]=4,t.path.length>=5?a[2]=5:a[2]=t.path.length;for(var o=[],i=3,c=0;c<a[2];c++){var l=new Float32Array(t.path[0]);t.path.shift(),o.push(h(l,Uint8Array)),i+=o[o.length-1].length}var r=new Uint8Array(i);r.set(a);for(var d=a.length,u=0;u<a[2];u++)r.set(o[u],d),d+=o[u].length;t.client.publish("/topic/qos0",r,0,(function(t){t&&console.log("Publish error",t)})),s.pointSet}}))}}}},f=p,m=(n("034f"),n("2877")),g=Object(m["a"])(f,o,i,!1,null,null,null),b=g.exports,y=n("5c96"),w=n.n(y);n("0fae");a["default"].use(w.a);n("476a");a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(b)}}).$mount("#app")},6:function(t,e){},7:function(t,e){},8:function(t,e){},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.4dd797b4.js.map